"use strict";!function(n){jQuery.fn.widowFix=function(i){var e={letterLimit:null,prevLimit:null,linkFix:!1,dashes:!1},a=n.extend(e,i);if(this.length)return this.each(function(){function i(){""===d&&(d=t.pop(),i())}var e,l=n(this);if(a.linkFix){var o=l.find("a:last");o.wrap("<var>");var c=n("var").html();e=o.contents()[0],o.contents().unwrap()}var t=n(this).html().split(" "),d=t.pop();if(!(t.length<=1)){if(i(),a.dashes){var r=["-","–","—"];n.each(r,function(n,i){if(d.indexOf(i)>0)return d='<span style="white-space:nowrap;">'+d+"</span>",!1})}var s=t[t.length-1];if(a.linkFix){if(null!==a.letterLimit&&e.length>=a.letterLimit)return void l.find("var").each(function(){n(this).contents().replaceWith(c),n(this).contents().unwrap()});if(null!==a.prevLimit&&s.length>=a.prevLimit)return void l.find("var").each(function(){n(this).contents().replaceWith(c),n(this).contents().unwrap()})}else{if(null!==a.letterLimit&&d.length>=a.letterLimit)return;if(null!==a.prevLimit&&s.length>=a.prevLimit)return}var g=t.join(" ")+"&nbsp;"+d;l.html(g),a.linkFix&&l.find("var").each(function(){n(this).contents().replaceWith(c),n(this).contents().unwrap()})}})}}(jQuery),!function(n){n.landing=n.landing||{},landing.cacheSelectors=function(){landing.cache={$html:$("html"),$body:$("body"),commonUrl:"/subsystems/common/"},landing.cache.$page=landing.cache.$body.find("#page"),landing.cache.$scripts=landing.cache.$body.find("#scripts"),landing.cache.$pluginScripts=landing.cache.$scripts.children("#plugin-scripts"),landing.cache.$main=landing.cache.$page.children("#main"),landing.cache.$hero=landing.cache.$main.children("#hero"),landing.cache.$widowElems=landing.cache.$page.find("h1, h2, h3, h4, p").filter(":not(.no-widow-fix)"),landing.cache.localEnv=!!landing.cache.$html.hasClass("local-env"),landing.cache.videoActive=!!landing.cache.$html.hasClass("inv-video"),landing.cache.videoEmbed=!!landing.cache.$html.hasClass("video-embed"),landing.cache.masterController=new ScrollMagic.Controller},landing.globalSelectors=function(){landing.global={$doc:$(document),isHighDensity:window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3}},landing.init=function(){landing.cacheSelectors(),landing.globalSelectors(),landing.avoidConsoleErrors(),landing.loadBgImages(),landing.avoidWidows(),landing.scrollToLinks(),landing.cache.videoActive&&landing.initFullscreenVideo(),landing.cache.videoEmbed&&landing.initVideoEmbed()},landing.avoidConsoleErrors=function(){for(var n,i=function(){},e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=e.length,l=window.console=window.console||{};a--;)n=e[a],l[n]||(l[n]=i)},landing.avoidWidows=function(){landing.cache.$widowElems.widowFix()},landing.loadBgImages=function(){var n=$("[data-bg-2x]");$.each(n,function(){var n=$(this);landing.global.isHighDensity?n.css("background-image","url("+n.data("bg-2x")+")"):n.css("background-image","url("+n.data("bg-1x")+")")})},landing.scrollToLinks=function(){var n=$("a[href^='#']");n&&(landing.cache.$pluginScripts.append('<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js"></script>'),n.click(function(n){n.preventDefault(),TweenLite.to(window,1,{scrollTo:$(this).attr("href"),ease:Power4.easeOut})}))},landing.initFullscreenVideo=function(){var n="undefined"==typeof Vimeo,i=landing.cache.$hero.find(".watch"),e=landing.cache.$page.find("#video-modal"),a=e.find(".close"),l=new TimelineLite({paused:!0}),o=$("#invision-video")[0],c=n?$f(o):new Vimeo.Player(o);l.fromTo(e,.6,{autoAlpha:0,scale:0},{autoAlpha:1,scale:1,ease:Back.easeOut.config(1.7)}),landing.global.$doc.on("open-video-modal",function(){l.play().timeScale(1),n?c.api("play"):c.play().then(function(){}),landing.cache.$html.addClass("inv-video-modal-active")}),landing.global.$doc.on("close-video-modal",function(){n?c.api("pause"):c.pause().then(function(){}),l.reverse().timeScale(2),landing.cache.$html.removeClass("inv-video-modal-active")}),i.on("click",function(n){n.preventDefault(),landing.global.$doc.trigger("open-video-modal")}),a.on("click",function(){landing.global.$doc.trigger("close-video-modal")}),landing.global.$doc.keyup(function(n){landing.cache.$html.hasClass("inv-video-modal-active")&&(27!==n.keyCode&&40!==n.keyCode||landing.global.$doc.trigger("close-video-modal"))})},landing.initVideoEmbed=function(){var n=landing.cache.$page.find("#video-embed");n.on("click",function(){landing.global.$doc.trigger("open-video-modal")})},$(landing.init)}(window);